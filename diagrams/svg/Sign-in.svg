<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1371.875px" preserveAspectRatio="none" style="width:1063px;height:1371px;" version="1.1" viewBox="0 0 1063 1371" width="1063.5417px" zoomAndPan="magnify"><defs><linearGradient id="gbxyepphbhyzs0" x1="50%" x2="50%" y1="0%" y2="100%"><stop offset="0%" stop-color="#FFFFFF"/><stop offset="100%" stop-color="#CCCCCC"/></linearGradient><linearGradient id="gbxyepphbhyzs1" x1="50%" x2="50%" y1="0%" y2="100%"><stop offset="0%" stop-color="#F08E41"/><stop offset="100%" stop-color="#EC7211"/></linearGradient></defs><g><rect fill="url(#gbxyepphbhyzs0)" height="45.0846" id="_title" rx="4.1667" ry="4.1667" style="stroke:#FFFFFF;stroke-width:1.0416666666666667;" width="102.0833" x="482.2917" y="10.4167"/><text fill="#4E5D6C" font-family="&quot;Verdana&quot;" font-size="20.8333" font-weight="bold" lengthAdjust="spacing" textLength="81.25" x="492.7083" y="40.1713">Sign-in</text><rect fill="#D3D3D3" height="1302.9948" rx="4.1667" ry="4.1667" style="stroke:#4E5D6C;stroke-width:0.5208333333333334;" width="323.9583" x="331.7708" y="62.793"/><text fill="#000000" font-family="&quot;Verdana&quot;" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="81.25" x="453.125" y="79.6041">webSocket</text><rect fill="#BCC5CE" height="515.2018" style="stroke:#ABB6C2;stroke-width:1.0416666666666667;" width="10.4167" x="103.125" y="769.401"/><rect fill="#BCC5CE" height="882.5846" style="stroke:#ABB6C2;stroke-width:1.0416666666666667;" width="10.4167" x="402.0833" y="411.3932"/><rect fill="#BCC5CE" height="1127.1159" style="stroke:#ABB6C2;stroke-width:1.0416666666666667;" width="10.4167" x="573.9583" y="157.487"/><rect fill="#BCC5CE" height="537.0117" style="stroke:#ABB6C2;stroke-width:1.0416666666666667;" width="10.4167" x="781.25" y="536.2956"/><rect fill="#BCC5CE" height="99.9023" style="stroke:#ABB6C2;stroke-width:1.0416666666666667;" width="10.4167" x="953.6458" y="933.8542"/><rect fill="none" height="208.1055" rx="4.1667" ry="4.1667" style="stroke:#4E5D6C;stroke-width:1.5625;" width="1047.9167" x="9.375" y="164.7786"/><line style="stroke:#ABB6C2;stroke-width:0.5208333333333334;stroke-dasharray:5.0,5.0;" x1="108.3333" x2="108.3333" y1="147.0703" y2="1303.3529"/><line style="stroke:#ABB6C2;stroke-width:0.5208333333333334;stroke-dasharray:5.0,5.0;" x1="406.7708" x2="406.7708" y1="147.0703" y2="1303.3529"/><line style="stroke:#ABB6C2;stroke-width:0.5208333333333334;stroke-dasharray:5.0,5.0;" x1="578.6458" x2="578.6458" y1="147.0703" y2="1303.3529"/><line style="stroke:#ABB6C2;stroke-width:0.5208333333333334;stroke-dasharray:5.0,5.0;" x1="786.4583" x2="786.4583" y1="147.0703" y2="1303.3529"/><line style="stroke:#ABB6C2;stroke-width:0.5208333333333334;stroke-dasharray:5.0,5.0;" x1="958.3333" x2="958.3333" y1="147.0703" y2="1303.3529"/><rect fill="url(#gbxyepphbhyzs1)" height="54.1016" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:0.5208333333333334;" width="66.6667" x="75" y="91.9271"/><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="26.0417" x="93.2292" y="116.0299">SSH</text><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="41.6667" x="87.5" y="130.5806">Server</text><rect fill="url(#gbxyepphbhyzs1)" height="54.1016" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:0.5208333333333334;" width="66.6667" x="75" y="1302.3112"/><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="26.0417" x="93.2292" y="1326.414">SSH</text><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="41.6667" x="87.5" y="1340.9648">Server</text><rect fill="url(#gbxyepphbhyzs1)" height="54.1016" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:0.5208333333333334;" width="59.375" x="377.6042" y="91.9271"/><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="26.0417" x="392.1875" y="116.0299">SSH</text><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="34.375" x="390.1042" y="130.5806">Proxy</text><rect fill="url(#gbxyepphbhyzs1)" height="54.1016" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:0.5208333333333334;" width="59.375" x="377.6042" y="1302.3112"/><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="26.0417" x="392.1875" y="1326.414">SSH</text><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="34.375" x="390.1042" y="1340.9648">Proxy</text><rect fill="url(#gbxyepphbhyzs1)" height="54.1016" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:0.5208333333333334;" width="61.4583" x="548.4375" y="91.9271"/><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="26.0417" x="564.0625" y="116.0299">SSH</text><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="36.4583" x="560.9375" y="130.5806">Client</text><rect fill="url(#gbxyepphbhyzs1)" height="54.1016" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:0.5208333333333334;" width="61.4583" x="548.4375" y="1302.3112"/><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="26.0417" x="564.0625" y="1326.414">SSH</text><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="36.4583" x="560.9375" y="1340.9648">Client</text><rect fill="url(#gbxyepphbhyzs1)" height="39.5508" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:0.5208333333333334;" width="75" x="748.9583" y="106.4779"/><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="50" x="761.4583" y="130.5806">Enclave</text><rect fill="url(#gbxyepphbhyzs1)" height="39.5508" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:0.5208333333333334;" width="75" x="748.9583" y="1302.3112"/><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="50" x="761.4583" y="1326.414">Enclave</text><rect fill="url(#gbxyepphbhyzs1)" height="54.1016" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:0.5208333333333334;" width="78.125" x="921.875" y="87.7604"/><rect fill="url(#gbxyepphbhyzs1)" height="54.1016" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:0.5208333333333334;" width="78.125" x="917.7083" y="91.9271"/><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="27.0833" x="941.1458" y="116.0299">Tide</text><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="53.125" x="930.2083" y="130.5806">Network</text><rect fill="url(#gbxyepphbhyzs1)" height="54.1016" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:0.5208333333333334;" width="78.125" x="921.875" y="1302.3112"/><rect fill="url(#gbxyepphbhyzs1)" height="54.1016" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:0.5208333333333334;" width="78.125" x="917.7083" y="1306.4779"/><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="27.0833" x="941.1458" y="1330.5806">Tide</text><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="53.125" x="930.2083" y="1345.1314">Network</text><rect fill="#BCC5CE" height="515.2018" style="stroke:#ABB6C2;stroke-width:1.0416666666666667;" width="10.4167" x="103.125" y="769.401"/><rect fill="#BCC5CE" height="882.5846" style="stroke:#ABB6C2;stroke-width:1.0416666666666667;" width="10.4167" x="402.0833" y="411.3932"/><rect fill="#BCC5CE" height="1127.1159" style="stroke:#ABB6C2;stroke-width:1.0416666666666667;" width="10.4167" x="573.9583" y="157.487"/><rect fill="#BCC5CE" height="537.0117" style="stroke:#ABB6C2;stroke-width:1.0416666666666667;" width="10.4167" x="781.25" y="536.2956"/><rect fill="#BCC5CE" height="99.9023" style="stroke:#ABB6C2;stroke-width:1.0416666666666667;" width="10.4167" x="953.6458" y="933.8542"/><path d="M13.5417,164.7786 L176.0417,164.7786 L176.0417,181.4128 L165.625,191.8294 L9.375,191.8294 L9.375,168.9453 A4.1667,4.1667 0 0 1 13.5417,164.7786 " fill="#FFFFFF" style="stroke:#4E5D6C;stroke-width:1.5625;"/><rect fill="none" height="208.1055" rx="4.1667" ry="4.1667" style="stroke:#4E5D6C;stroke-width:1.5625;" width="1047.9167" x="9.375" y="164.7786"/><text fill="#0073BB" font-family="&quot;Verdana&quot;" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="109.375" x="30.2083" y="182.6314">Pre-configured</text><path d="M19.7917,201.2044 L19.7917,227.2461 A4.1667,4.1667 0 0 0 23.9583,231.4128 L191.6667,231.4128 A4.1667,4.1667 0 0 0 195.8333,227.2461 L195.8333,207.4544 L185.4167,197.0378 L23.9583,197.0378 A4.1667,4.1667 0 0 0 19.7917,201.2044 " fill="#0073BB" style="stroke:#181818;stroke-width:1.0416666666666667;"/><path d="M185.4167,197.0378 L185.4167,205.3711 A2.0833,2.0833 0 0 0 187.5,207.4544 L195.8333,207.4544 L185.4167,197.0378 " fill="#0073BB" style="stroke:#181818;stroke-width:1.0416666666666667;"/><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="143.75" x="31.25" y="219.0572">gCVK : Public User key</text><path d="M446.875,247.0052 L446.875,287.6302 A4.1667,4.1667 0 0 0 451.0417,291.7969 L706.25,291.7969 A4.1667,4.1667 0 0 0 710.4167,287.6302 L710.4167,253.2552 L700,242.8385 L451.0417,242.8385 A4.1667,4.1667 0 0 0 446.875,247.0052 " fill="#0073BB" style="stroke:#181818;stroke-width:1.0416666666666667;"/><path d="M700,242.8385 L700,251.1719 A2.0833,2.0833 0 0 0 702.0833,253.2552 L710.4167,253.2552 L700,242.8385 " fill="#0073BB" style="stroke:#181818;stroke-width:1.0416666666666667;"/><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="185.4167" x="458.3333" y="264.858">gVVK : Public SSH Server key</text><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="231.25" x="458.3333" y="279.4088">sURL : SSH Proxy URL signed by VVK</text><path d="M870.8333,307.3568 L870.8333,362.5651 A4.1667,4.1667 0 0 0 875,366.7318 L1042.7083,366.7318 A4.1667,4.1667 0 0 0 1046.875,362.5651 L1046.875,313.6068 L1036.4583,303.1901 L875,303.1901 A4.1667,4.1667 0 0 0 870.8333,307.3568 " fill="#0073BB" style="stroke:#181818;stroke-width:1.0416666666666667;"/><path d="M1036.4583,303.1901 L1036.4583,311.5234 A2.0833,2.0833 0 0 0 1038.5417,313.6068 L1046.875,313.6068 L1036.4583,303.1901 " fill="#0073BB" style="stroke:#181818;stroke-width:1.0416666666666667;"/><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="101.0417" x="882.2917" y="325.2096">userID : User ID</text><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="89.5833" x="882.2917" y="339.7603">VUID : User ID</text><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="143.75" x="882.2917" y="354.3111">CVK : User Vendor key</text><polygon fill="#808080" points="423.9583,407.2266,413.5417,411.3932,423.9583,415.5599,419.7917,411.3932" style="stroke:#808080;stroke-width:1.0416666666666667;"/><line style="stroke:#808080;stroke-width:3.125;" x1="417.7083" x2="572.9167" y1="411.3932" y2="411.3932"/><text fill="#4E5D6C" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="53.125" x="435.4167" y="401.1536">connect</text><polygon fill="#EC7211" points="561.4583,446.7773,571.875,450.944,561.4583,455.1107,565.625,450.944" style="stroke:#EC7211;stroke-width:1.0416666666666667;"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="412.5" x2="567.7083" y1="450.944" y2="450.944"/><text fill="#4E5D6C" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="45.8333" x="425" y="440.7043">getInfo</text><path d="M495.8333,468.6523 L495.8333,494.694 A4.1667,4.1667 0 0 0 500,498.8607 L658.3333,498.8607 A4.1667,4.1667 0 0 0 662.5,494.694 L662.5,474.9023 L652.0833,464.4857 L500,464.4857 A4.1667,4.1667 0 0 0 495.8333,468.6523 " fill="#0073BB" style="stroke:#181818;stroke-width:1.0416666666666667;"/><path d="M652.0833,464.4857 L652.0833,472.819 A2.0833,2.0833 0 0 0 654.1667,474.9023 L662.5,474.9023 L652.0833,464.4857 " fill="#0073BB" style="stroke:#181818;stroke-width:1.0416666666666667;"/><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="134.375" x="507.2917" y="486.5051">User presses button</text><polygon fill="#EC7211" points="768.75,532.1289,779.1667,536.2956,768.75,540.4622,772.9167,536.2956" style="stroke:#EC7211;stroke-width:1.0416666666666667;"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="584.375" x2="775" y1="536.2956" y2="536.2956"/><text fill="#4E5D6C" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="166.6667" x="596.875" y="526.0559">OpenEnclave(gVVK, sURL)</text><path d="M721.875,554.0039 L721.875,594.6289 A4.1667,4.1667 0 0 0 726.0417,598.7956 L846.875,598.7956 A4.1667,4.1667 0 0 0 851.0417,594.6289 L851.0417,560.2539 L840.625,549.8372 L726.0417,549.8372 A4.1667,4.1667 0 0 0 721.875,554.0039 " fill="#0073BB" style="stroke:#181818;stroke-width:1.0416666666666667;"/><path d="M840.625,549.8372 L840.625,558.1706 A2.0833,2.0833 0 0 0 842.7083,560.2539 L851.0417,560.2539 L840.625,549.8372 " fill="#0073BB" style="stroke:#181818;stroke-width:1.0416666666666667;"/><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="96.875" x="733.3333" y="571.8567">validate sURL ?</text><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="65.625" x="733.3333" y="586.4075">Tide Login</text><polygon fill="#EC7211" points="803.125,632.0313,792.7083,636.1979,803.125,640.3646,798.9583,636.1979" style="stroke:#EC7211;stroke-width:1.0416666666666667;"/><polygon fill="#EC7211" points="946.3542,632.0313,956.7708,636.1979,946.3542,640.3646,950.5208,636.1979" style="stroke:#EC7211;stroke-width:1.0416666666666667;"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="796.875" x2="952.6042" y1="636.1979" y2="636.1979"/><text fill="#4E5D6C" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="72.9167" x="814.5833" y="625.9583">PRISM auth</text><polygon fill="#EC7211" points="595.8333,671.582,585.4167,675.7487,595.8333,679.9154,591.6667,675.7487" style="stroke:#EC7211;stroke-width:1.0416666666666667;"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="589.5833" x2="780.2083" y1="675.7487" y2="675.7487"/><text fill="#4E5D6C" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="70.8333" x="607.2917" y="665.509">VUID, gCVK</text><polygon fill="#EC7211" points="423.9583,725.6836,413.5417,729.8503,423.9583,734.0169,419.7917,729.8503" style="stroke:#EC7211;stroke-width:1.0416666666666667;"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="417.7083" x2="572.9167" y1="729.8503" y2="729.8503"/><text fill="#4E5D6C" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="111.4583" x="435.4167" y="705.0598">Username(VUID),</text><text fill="#4E5D6C" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="81.25" x="435.4167" y="719.6106">Public(gCVK)</text><polygon fill="#808080" points="125,765.2344,114.5833,769.401,125,773.5677,120.8333,769.401" style="stroke:#808080;stroke-width:1.0416666666666667;"/><polygon fill="#808080" points="389.5833,765.2344,400,769.401,389.5833,773.5677,393.75,769.401" style="stroke:#808080;stroke-width:1.0416666666666667;"/><line style="stroke:#808080;stroke-width:3.125;" x1="118.75" x2="395.8333" y1="769.401" y2="769.401"/><text fill="#4E5D6C" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="212.5" x="136.4583" y="759.1614">SSH Diffie-Hellman Key exchange</text><path d="M341.6667,787.1094 L341.6667,813.151 A4.1667,4.1667 0 0 0 345.8333,817.3177 L467.7083,817.3177 A4.1667,4.1667 0 0 0 471.875,813.151 L471.875,793.3594 L461.4583,782.9427 L345.8333,782.9427 A4.1667,4.1667 0 0 0 341.6667,787.1094 " fill="#0073BB" style="stroke:#181818;stroke-width:1.0416666666666667;"/><path d="M461.4583,782.9427 L461.4583,791.276 A2.0833,2.0833 0 0 0 463.5417,793.3594 L471.875,793.3594 L461.4583,782.9427 " fill="#0073BB" style="stroke:#181818;stroke-width:1.0416666666666667;"/><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="97.9167" x="353.125" y="804.9622">Prep challenge</text><polygon fill="#EC7211" points="561.4583,850.5859,571.875,854.7526,561.4583,858.9193,565.625,854.7526" style="stroke:#EC7211;stroke-width:1.0416666666666667;"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="412.5" x2="567.7083" y1="854.7526" y2="854.7526"/><text fill="#4E5D6C" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="85.4167" x="425" y="844.5129">getSignature</text><polygon fill="#EC7211" points="768.75,890.1367,779.1667,894.3034,768.75,898.4701,772.9167,894.3034" style="stroke:#EC7211;stroke-width:1.0416666666666667;"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="584.375" x2="775" y1="894.3034" y2="894.3034"/><text fill="#4E5D6C" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="63.5417" x="596.875" y="884.0637">challenge</text><polygon fill="#EC7211" points="941.1458,929.6875,951.5625,933.8542,941.1458,938.0208,945.3125,933.8542" style="stroke:#EC7211;stroke-width:1.0416666666666667;"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="791.6667" x2="947.3958" y1="933.8542" y2="933.8542"/><text fill="#4E5D6C" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="127.0833" x="804.1667" y="923.6145">signSSH(challenge)</text><path d="M882.2917,951.5625 L882.2917,992.1875 A4.1667,4.1667 0 0 0 886.4583,996.3542 L1031.25,996.3542 A4.1667,4.1667 0 0 0 1035.4167,992.1875 L1035.4167,957.8125 L1025,947.3958 L886.4583,947.3958 A4.1667,4.1667 0 0 0 882.2917,951.5625 " fill="#0073BB" style="stroke:#181818;stroke-width:1.0416666666666667;"/><path d="M1025,947.3958 L1025,955.7292 A2.0833,2.0833 0 0 0 1027.0833,957.8125 L1035.4167,957.8125 L1025,947.3958 " fill="#0073BB" style="stroke:#181818;stroke-width:1.0416666666666667;"/><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="120.8333" x="893.75" y="969.4153">Validate challenge</text><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="95.8333" x="893.75" y="983.9661">Sign challenge</text><polygon fill="#EC7211" points="803.125,1029.5898,792.7083,1033.7565,803.125,1037.9232,798.9583,1033.7565" style="stroke:#EC7211;stroke-width:1.0416666666666667;"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="796.875" x2="957.8125" y1="1033.7565" y2="1033.7565"/><text fill="#4E5D6C" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="62.5" x="814.5833" y="1023.5168">signature</text><polygon fill="#EC7211" points="595.8333,1069.1406,585.4167,1073.3073,595.8333,1077.474,591.6667,1073.3073" style="stroke:#EC7211;stroke-width:1.0416666666666667;"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="589.5833" x2="785.4167" y1="1073.3073" y2="1073.3073"/><text fill="#4E5D6C" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="117.7083" x="607.2917" y="1063.0676">tideJWT, signature</text><polygon fill="#EC7211" points="423.9583,1108.6914,413.5417,1112.8581,423.9583,1117.0247,419.7917,1112.8581" style="stroke:#EC7211;stroke-width:1.0416666666666667;"/><line style="stroke:#EC7211;stroke-width:3.125;" x1="417.7083" x2="572.9167" y1="1112.8581" y2="1112.8581"/><text fill="#4E5D6C" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="123.9583" x="435.4167" y="1102.6184">ReturnedSignature</text><polygon fill="#808080" points="125,1148.2422,114.5833,1152.4089,125,1156.5755,120.8333,1152.4089" style="stroke:#808080;stroke-width:1.0416666666666667;"/><line style="stroke:#808080;stroke-width:3.125;" x1="118.75" x2="401.0417" y1="1152.4089" y2="1152.4089"/><text fill="#4E5D6C" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="253.125" x="136.4583" y="1142.1692">ssh-userauth (userid, gCVK, signature)</text><line style="stroke:#808080;stroke-width:3.125;" x1="113.5417" x2="157.2917" y1="1191.9596" y2="1191.9596"/><line style="stroke:#808080;stroke-width:3.125;" x1="157.2917" x2="157.2917" y1="1191.9596" y2="1205.5013"/><line style="stroke:#808080;stroke-width:3.125;" x1="114.5833" x2="157.2917" y1="1205.5013" y2="1205.5013"/><polygon fill="#808080" points="125,1201.3346,114.5833,1205.5013,125,1209.668,120.8333,1205.5013" style="stroke:#808080;stroke-width:1.0416666666666667;"/><text fill="#4E5D6C" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="191.6667" x="126.0417" y="1181.72">Verify signature against gCVK</text><polygon fill="#808080" points="125,1240.8854,114.5833,1245.0521,125,1249.2188,120.8333,1245.0521" style="stroke:#808080;stroke-width:1.0416666666666667;"/><polygon fill="#808080" points="389.5833,1240.8854,400,1245.0521,389.5833,1249.2188,393.75,1245.0521" style="stroke:#808080;stroke-width:1.0416666666666667;"/><line style="stroke:#808080;stroke-width:3.125;" x1="118.75" x2="395.8333" y1="1245.0521" y2="1245.0521"/><text fill="#4E5D6C" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="126.0417" x="136.4583" y="1234.8124">Commence session</text><polygon fill="#808080" points="423.9583,1280.4362,413.5417,1284.6029,423.9583,1288.7695,419.7917,1284.6029" style="stroke:#808080;stroke-width:1.0416666666666667;"/><polygon fill="#808080" points="566.6667,1280.4362,577.0833,1284.6029,566.6667,1288.7695,570.8333,1284.6029" style="stroke:#808080;stroke-width:1.0416666666666667;"/><line style="stroke:#808080;stroke-width:3.125;" x1="417.7083" x2="572.9167" y1="1284.6029" y2="1284.6029"/><text fill="#4E5D6C" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="126.0417" x="435.4167" y="1274.3632">Commence session</text><!--MD5=[2a001ab7dc029d6baa995dedb949ed5a]
@startuml Sign-in
title Sign-in
!include https://raw.githubusercontent.com/bschwarz/puml-themes/master/themes/aws-orange-light/puml-theme-aws-orange-light.puml

participant "SSH \nServer" as Server
box "webSocket" #LightGray
participant "SSH \nProxy" as Proxy
participant "SSH \nClient" as Client
end box
participant "Enclave" as Enclave
collections "Tide \nNetwork" as Tide

group Pre-configured
note over Server
    gCVK : Public User key
end note

note over Client
    gVVK : Public SSH Server key
    sURL : SSH Proxy URL signed by VVK
end note

note over Tide
    userID : User ID
    VUID : User ID
    CVK : User Vendor key
end note
end group

activate Client
Client-[#Gray]>Proxy : connect
activate Proxy
Client<-Proxy : getInfo

note over Client
    User presses button
end note

Client->Enclave: OpenEnclave(gVVK, sURL)
activate Enclave

note over Enclave
    validate sURL ?
    Tide Login
end note

Enclave<->Tide: PRISM auth
Client<-Enclave: VUID, gCVK
Client->Proxy: Username(VUID), \nPublic(gCVK)

Proxy<-[#Gray]>Server: SSH Diffie-Hellman Key exchange
activate Server

note over Proxy
    Prep challenge
end note

Client<-Proxy: getSignature
Client->Enclave: challenge

Enclave->Tide: signSSH(challenge)

activate Tide
note over Tide
    Validate challenge
    Sign challenge
end note

Enclave<-Tide: signature
deactivate Tide

Enclave->Client: tideJWT, signature

deactivate Enclave

Client->Proxy: ReturnedSignature
Proxy-[#Gray]>Server: ssh-userauth (userid, gCVK, signature)
Server-[#Gray]>Server: Verify signature against gCVK
Server<-[#Gray]>Proxy: Commence session
Client<-[#Gray]>Proxy: Commence session
deactivate Server


deactivate Client
@enduml

@startuml Sign-in
title Sign-in



skinparam backgroundColor transparent










skinparam defaultFontName       "Verdana"
skinparam defaultFontSize       12
skinparam dpi                   100
skinparam shadowing             false
skinparam roundcorner           8
skinparam ParticipantPadding    40
skinparam BoxPadding            40
skinparam Padding               5
skinparam ArrowColor            #4E5D6C
skinparam stereotype {
    CBackgroundColor #ffffff
    CBorderColor #cccccc
    ABackgroundColor #4a9a35
    ABorderColor #176702
    IBackgroundColor #da5b41
    IBorderColor #a7280e
    EBackgroundColor #f08e41
    EBorderColor #bd5b0e
    NBackgroundColor #338fc9
    NBorderColor #005c96
}
skinparam title {
	FontColor	                 #4E5D6C
	BorderColor	                 #FFFFFF
	FontSize	    	         20
	BorderRoundCorner            8
	BorderThickness 	         1
	BackgroundColor              #FFFFFF-#cccccc
}

skinparam legend {
	BackgroundColor #FFFFFF
	BorderColor #cccccc
	FontColor #abb6c2
}

skinparam swimlane {
	BorderColor #0073bb
	BorderThickness 2
	TitleBackgroundColor  #FFFFFF-#cccccc
	TitleFontColor #EC7211
}


skinparam activity {
		FontColor #FFF
	BorderColor #EC7211
	BackgroundColor #f08e41-#EC7211
	BarColor #1D8102
	StartColor #0073bb
	EndColor #0073bb
	DiamondBackgroundColor #ffffff
  	DiamondBorderColor #cccccc
  	DiamondFontColor #4E5D6C
}

skinparam participant {
		FontColor #FFF
	BorderColor #EC7211
	BackgroundColor #f08e41-#EC7211
	ParticipantBorderThickness 2
}

skinparam actor {
		FontColor #FFF
	BorderColor #EC7211
	BackgroundColor #f08e41-#EC7211
	FontColor #4E5D6C
}

skinparam arrow {
	Thickness 3
	Color #EC7211
	FontColor #4E5D6C
}

skinparam sequence {
	ArrowThickness 3
	BorderColor #EC7211
	TitleFontColor #EC7211
	BackgroundColor transparent
	StartColor #EC7211
	EndColor #EC7211
	BoxBackgroundColor transparent
	BoxBorderColor #4E5D6C
	BoxFontColor #4E5D6C
	DelayFontColor #4E5D6C
	LifeLineBorderColor #abb6c2
	LifeLineBorderThickness 2
	LifeLineBackgroundColor #bcc5ce
	GroupBorderColor #4E5D6C
	GroupFontColor #4E5D6C
	GroupHeaderFontColor #0073bb
	GroupBackgroundColor #FFFFFF
	GroupBodyBackgroundColor transparent
	GroupHeaderBackgroundColor transparent
	DividerBackgroundColor #4E5D6C
    DividerBorderColor #4E5D6C
    DividerBorderThickness 2
    DividerFontColor #abb6c2
	ReferenceBackgroundColor transparent
	ReferenceBorderColor #4E5D6C
	ReferenceFontColor #4E5D6C
	ReferenceHeaderFontColor #0073bb
	ReferenceHeaderBackgroundColor #FFFFFF
	StereotypeFontColor #FFF
}

skinparam partition {
	BorderColor #EC7211
	FontColor #EC7211
	BackgroundColor transparent
}

skinparam collections {
		FontColor #FFF
	BorderColor #EC7211
	BackgroundColor #f08e41-#EC7211
}

skinparam control {
		FontColor #FFF
	BorderColor #EC7211
	BackgroundColor #f08e41-#EC7211
	FontColor #4E5D6C
}

skinparam entity {
		FontColor #FFF
	BorderColor #EC7211
	BackgroundColor #f08e41-#EC7211
	FontColor #4E5D6C
}

skinparam boundary {
		FontColor #FFF
	BorderColor #EC7211
	BackgroundColor #f08e41-#EC7211
	FontColor #4E5D6C
}

skinparam agent {
	BackgroundColor #EC7211
	BorderColor #f08e41
	FontColor #4E5D6C
}

skinparam note {
	BorderThickness 1
	BackgroundColor #0073bb
	BorderColor #005c96
	FontColor #FFF
}

skinparam artifact {
	BackgroundColor #4E5D6C
	BorderColor #717d89
	FontColor #abb6c2
}

skinparam component {
		FontColor #FFF
	BorderColor #EC7211
	BackgroundColor #f08e41-#EC7211
}

skinparam interface {
	BackgroundColor  #a7280e
	BorderColor  #d13212
	FontColor #4E5D6C
}

skinparam storage {
	BackgroundColor #EC7211
  	BorderColor #bd5b0e
	FontColor #FFF
}

skinparam node {
	BackgroundColor  transparent
	BorderColor #abb6c2
	FontColor #abb6c2
}

skinparam cloud {
	BackgroundColor transparent
	BorderColor #4E5D6C
	FontColor #abb6c2
}

skinparam database {
		FontColor #FFF
	BorderColor #EC7211
	BackgroundColor #f08e41-#EC7211
	FontColor #4E5D6C
}

skinparam class {
		FontColor #FFF
	BorderColor #EC7211
	BackgroundColor #f08e41-#EC7211
	HeaderBackgroundColor #f08e41
	StereotypeFontColor #4E5D6C
	BorderThickness 1
	AttributeFontColor #FFF
	AttributeFontSize 11
}

skinparam object {
		FontColor #FFF
	BorderColor #EC7211
	BackgroundColor #f08e41-#EC7211
	StereotypeFontColor #4E5D6C
	BorderThickness 1
	AttributeFontColor #FFF
	AttributeFontSize 11
}

skinparam usecase {
		FontColor #FFF
	BorderColor #EC7211
	BackgroundColor #f08e41-#EC7211
	BorderThickness 2
	StereotypeFontColor #EC7211
}

skinparam rectangle {
	BackgroundColor transparent
	FontColor #4E5D6C
	BorderColor #4E5D6C
	BorderThickness 2
	StereotypeFontColor #abb6c2
}

skinparam package {
	BackgroundColor #FFFFFF
  	BorderColor #4E5D6C
	FontColor #4E5D6C
	BorderThickness 2
}

skinparam folder {
	BackgroundColor #ffffff
  	BorderColor #EC7211
	FontColor #EC7211
	BorderThickness 2
}

skinparam frame {
	BackgroundColor #ffffff
  	BorderColor #0073bb
	FontColor #0073bb
	BorderThickness 2
}

skinparam state {
		FontColor #FFF
	BorderColor #EC7211
	BackgroundColor #f08e41-#EC7211
	StartColor #0073bb
	EndColor #0073bb
	AttributeFontColor #4E5D6C
	AttributeFontSize 11
}

skinparam queue {
		FontColor #FFF
	BorderColor #EC7211
	BackgroundColor #f08e41-#EC7211
}

skinparam card {
	BackgroundColor #0073bb
	BorderColor #005c96
	FontColor #FFF
}

skinparam file {
	BackgroundColor #cccccc
	BorderColor #abb6c2
	FontColor #4E5D6C
}


skinparam stack {
		FontColor #FFF
	BorderColor #EC7211
	BackgroundColor #f08e41-#EC7211
}


participant "SSH \nServer" as Server
box "webSocket" #LightGray
participant "SSH \nProxy" as Proxy
participant "SSH \nClient" as Client
end box
participant "Enclave" as Enclave
collections "Tide \nNetwork" as Tide

group Pre-configured
note over Server
    gCVK : Public User key
end note

note over Client
    gVVK : Public SSH Server key
    sURL : SSH Proxy URL signed by VVK
end note

note over Tide
    userID : User ID
    VUID : User ID
    CVK : User Vendor key
end note
end group

activate Client
Client-[#Gray]>Proxy : connect
activate Proxy
Client<-Proxy : getInfo

note over Client
    User presses button
end note

Client->Enclave: OpenEnclave(gVVK, sURL)
activate Enclave

note over Enclave
    validate sURL ?
    Tide Login
end note

Enclave<->Tide: PRISM auth
Client<-Enclave: VUID, gCVK
Client->Proxy: Username(VUID), \nPublic(gCVK)

Proxy<-[#Gray]>Server: SSH Diffie-Hellman Key exchange
activate Server

note over Proxy
    Prep challenge
end note

Client<-Proxy: getSignature
Client->Enclave: challenge

Enclave->Tide: signSSH(challenge)

activate Tide
note over Tide
    Validate challenge
    Sign challenge
end note

Enclave<-Tide: signature
deactivate Tide

Enclave->Client: tideJWT, signature

deactivate Enclave

Client->Proxy: ReturnedSignature
Proxy-[#Gray]>Server: ssh-userauth (userid, gCVK, signature)
Server-[#Gray]>Server: Verify signature against gCVK
Server<-[#Gray]>Proxy: Commence session
Client<-[#Gray]>Proxy: Commence session
deactivate Server


deactivate Client
@enduml

PlantUML version 1.2022.13(Sat Nov 19 13:22:17 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>