<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1111.4583px" preserveAspectRatio="none" style="width:1172px;height:1111px;" version="1.1" viewBox="0 0 1172 1111" width="1172.9167px" zoomAndPan="magnify"><defs><linearGradient id="g1hhb3l451aafn0" x1="50%" x2="50%" y1="0%" y2="100%"><stop offset="0%" stop-color="#FFFFFF"/><stop offset="100%" stop-color="#CCCCCC"/></linearGradient><linearGradient id="g1hhb3l451aafn1" x1="50%" x2="50%" y1="0%" y2="100%"><stop offset="0%" stop-color="#F08E41"/><stop offset="100%" stop-color="#EC7211"/></linearGradient></defs><g><rect fill="url(#g1hhb3l451aafn0)" height="45.0846" id="_title" rx="4.1667" ry="4.1667" style="stroke:#FFFFFF;stroke-width:1.0416666666666667;" width="289.5833" x="434.8026" y="5.2083"/><text fill="#4E5D6C" font-family="&quot;Verdana&quot;" font-size="20.8333" font-weight="bold" lengthAdjust="spacing" textLength="268.75" x="445.2193" y="34.963">KeyleSSH Architecture</text><!--MD5=[c018863fe2304e0ca952616611326b6e]
cluster Host--><g id="cluster_Host"><polygon fill="#FFFFFF" points="16.6667,306.543,27.0833,296.1263,230.2083,296.1263,230.2083,705.5013,219.7917,715.918,16.6667,715.918,16.6667,306.543" style="stroke:#4E5D6C;stroke-width:1.0416666666666667;"/><line style="stroke:#4E5D6C;stroke-width:1.0416666666666667;" x1="219.7917" x2="230.2083" y1="306.543" y2="296.1263"/><line style="stroke:#4E5D6C;stroke-width:1.0416666666666667;" x1="16.6667" x2="219.7917" y1="306.543" y2="306.543"/><line style="stroke:#4E5D6C;stroke-width:1.0416666666666667;" x1="219.7917" x2="219.7917" y1="306.543" y2="715.918"/><text fill="#ABB6C2" font-family="&quot;Verdana&quot;" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="34.375" x="102.0833" y="326.4791">Host</text></g><!--MD5=[1da3f15a6c55a172e77f9f97c8321ea7]
cluster authorized_keys--><g id="cluster_authorized_keys"><path d="M45.8333,574.2513 L176.0417,574.2513 A6.25,6.25 0 0 1 180.2083,578.418 L187.5,605.4688 L187.5,605.4688 A4.1667,4.1667 0 0 1 191.6667,609.6354 L191.6667,686.7513 A4.1667,4.1667 0 0 1 187.5,690.918 L45.8333,690.918 A4.1667,4.1667 0 0 1 41.6667,686.7513 L41.6667,578.418 A4.1667,4.1667 0 0 1 45.8333,574.2513 " fill="#808080" style="stroke:#EC7211;stroke-width:2.0833333333333335;"/><line style="stroke:#EC7211;stroke-width:2.0833333333333335;" x1="41.6667" x2="187.5" y1="605.4688" y2="605.4688"/><text fill="#EC7211" font-family="&quot;Verdana&quot;" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="121.875" x="51.0417" y="593.1458">authorized_keys</text></g><!--MD5=[c029c475a76b5c07dab1932cfede9797]
cluster SSH Proxy--><g id="cluster_SSH Proxy"><polygon fill="#FFFFFF" points="130.2083,73.2096,140.625,62.793,566.6667,62.793,566.6667,174.2513,556.25,184.668,130.2083,184.668,130.2083,73.2096" style="stroke:#4E5D6C;stroke-width:1.0416666666666667;"/><line style="stroke:#4E5D6C;stroke-width:1.0416666666666667;" x1="556.25" x2="566.6667" y1="73.2096" y2="62.793"/><line style="stroke:#4E5D6C;stroke-width:1.0416666666666667;" x1="130.2083" x2="556.25" y1="73.2096" y2="73.2096"/><line style="stroke:#4E5D6C;stroke-width:1.0416666666666667;" x1="556.25" x2="556.25" y1="73.2096" y2="184.668"/><text fill="#ABB6C2" font-family="&quot;Verdana&quot;" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="73.9583" x="307.2917" y="93.1458">SSH Proxy</text></g><!--MD5=[2de28e47f9582cb6df153deeec479525]
cluster browser--><g id="cluster_browser"><rect fill="#FFFFFF" height="198.9583" rx="4.1667" ry="4.1667" style="stroke:#0073BB;stroke-width:2.0833333333333335;" width="468.75" x="335.4167" y="244.043"/><path d="M455.2083,244.043 L455.2083,261.7188 L444.7917,272.1354 L335.4167,272.1354 " fill="none" style="stroke:#0073BB;stroke-width:2.0833333333333335;"/><text fill="#0073BB" font-family="&quot;Verdana&quot;" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="98.9583" x="343.75" y="261.8958">Web browser</text></g><!--MD5=[492b10dc70086493f7c7984987389bf1]
cluster webclient--><g id="cluster_webclient"><polygon fill="#FFFFFF" points="360.4167,306.543,370.8333,296.1263,779.1667,296.1263,779.1667,407.5846,768.75,418.0013,360.4167,418.0013,360.4167,306.543" style="stroke:#4E5D6C;stroke-width:1.0416666666666667;"/><line style="stroke:#4E5D6C;stroke-width:1.0416666666666667;" x1="768.75" x2="779.1667" y1="306.543" y2="296.1263"/><line style="stroke:#4E5D6C;stroke-width:1.0416666666666667;" x1="360.4167" x2="768.75" y1="306.543" y2="306.543"/><line style="stroke:#4E5D6C;stroke-width:1.0416666666666667;" x1="768.75" x2="768.75" y1="306.543" y2="418.0013"/><text fill="#ABB6C2" font-family="&quot;Verdana&quot;" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="78.125" x="526.5625" y="326.4791">Web client</text></g><!--MD5=[3f0967606a85fc43974c121023f510a0]
cluster Tide Network--><g id="cluster_Tide Network"><path d="M426.9568,527.186 C439.0894,505.9802 460.8392,506.8683 474.2139,525.7207 C489.9456,504.7197 514.7088,503.2081 526.6296,529.9083 C539.1196,503.0082 557.8989,506.9977 573.9062,526.31 C586.9062,497.5459 609.8147,498.2753 626.6552,522.486 C641.6141,504.2861 656.5899,505.1964 669.6698,524.6335 C685.0873,494.4975 708.0543,493.0259 727.1289,521.0185 C744.0846,499.032 760.17,498.1093 773.5127,524.4837 C784.5991,503.4571 808.0696,500.8796 821.2579,522.1089 C833.6123,495.925 858.485,495.6144 871.3744,521.595 C890.8437,495.7258 909.0613,499.8718 924.2249,525.9736 C942.4491,500.514 957.8007,507.4823 973.5783,528.5678 C987.19,505.1281 1005.0014,502.0094 1021.7115,525.3818 C1042.1084,503.7665 1063.1907,500.7028 1077.7911,531.575 C1093.7738,510.8341 1111.9797,510.4073 1127.0833,532.5846 C1131.4715,529.1153 1134.0137,531.194 1135.3098,535.753 C1157.6583,552.2113 1159.5601,572.6875 1131.2997,585.027 C1155.0439,596.8628 1160.7093,618.6727 1135.0912,634.3063 C1165.5771,651.6918 1162.872,673.046 1134.6707,689.9883 C1156.4765,700.6206 1163.0972,713.1549 1143.5097,732.4117 C1166.4803,747.6387 1165.3678,775.6767 1141.6786,789.4046 C1160.9348,803.7672 1159.1487,824.064 1136.6641,833.7016 C1162.7657,847.0212 1159.5052,869.8611 1136.9524,883.4625 C1157.0569,907.1592 1151.1935,931.1006 1119.7917,938.8346 C1123.8319,936.4621 1126.3588,938.3902 1126.8603,942.6221 C1107.3741,971.527 1091.0771,965.1441 1073.2097,940.9854 C1060.7205,965.9323 1036.6522,972.3955 1019.7147,945.5829 C1003.6722,966.6 988.6566,964.983 976.1507,942.0753 C967.4701,965.9385 943.4505,970.3333 927.8724,949.5307 C910.7248,976.1033 890.3846,974.1538 872.4873,950.355 C856.8708,971.6622 834.1794,977.6638 819.6607,949.1901 C805.6815,966.5527 789.9267,968.9953 776.9796,948.0406 C761.1614,969.0006 744.4635,967.7764 728.3324,948.4183 C712.896,970.3928 695.1453,977.3829 676.7885,951.5682 C658.7192,979.357 634.5998,975.8774 619.6544,948.3421 C603.6644,971.4167 587.0062,969.5638 575.3894,944.3345 C560.265,967.2769 539.6539,966.9228 523.2575,945.8409 C507.8367,967.8087 485.7604,968.7237 469.2978,947.1314 C444.8271,966.0971 423.0501,960.3635 411.4583,931.543 C415.0078,929.4446 417.1088,931.4312 417.5421,934.93 C389.7023,923.3256 392.2733,908.5375 409.3401,888.9266 C383.5372,872.1478 390.5884,850.799 413.752,838.2863 C391.856,824.9571 388.0454,804.7139 410.2558,788.2999 C385.9736,772.4013 380.1725,752.9672 405.992,733.192 C386.5672,720.0152 384.2375,699.5257 407.3147,687.5814 C385.028,668.5019 384.8801,652.288 410.7138,636.4046 C384.7573,623.307 388.134,603.2317 409.8936,589.3032 C378.7009,563.1806 381.5473,541.9524 418.75,525.293 C421.8849,522.5047 425.4043,523.1144 426.9568,527.186 " fill="#FFA500" style="stroke:#4E5D6C;stroke-width:1.0416666666666667;"/><text fill="#ABB6C2" font-family="&quot;Verdana&quot;" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="97.9167" x="720.3125" y="547.3124">Tide Network</text></g><!--MD5=[1d2ab9099354f11544bad941f3467535]
cluster ORK node--><g id="cluster_ORK node"><polygon fill="#FFFFFF" points="428.125,579.4596,438.5417,569.043,1110.4167,569.043,1110.4167,911.7513,1100,922.168,428.125,922.168,428.125,579.4596" style="stroke:#4E5D6C;stroke-width:1.0416666666666667;"/><line style="stroke:#4E5D6C;stroke-width:1.0416666666666667;" x1="1100" x2="1110.4167" y1="579.4596" y2="569.043"/><line style="stroke:#4E5D6C;stroke-width:1.0416666666666667;" x1="428.125" x2="1100" y1="579.4596" y2="579.4596"/><line style="stroke:#4E5D6C;stroke-width:1.0416666666666667;" x1="1100" x2="1100" y1="579.4596" y2="922.168"/><text fill="#ABB6C2" font-family="&quot;Verdana&quot;" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="71.875" x="729.1667" y="599.3958">ORK node</text></g><!--MD5=[a273e68bc98334f75da4f1250f3fd049]
cluster key store--><g id="cluster_key store"><path d="M550,760.7096 C550,750.293 692.1875,750.293 692.1875,750.293 C692.1875,750.293 834.375,750.293 834.375,760.7096 L834.375,886.7513 C834.375,897.168 692.1875,897.168 692.1875,897.168 C692.1875,897.168 550,897.168 550,886.7513 L550,760.7096 " fill="#FFFFFF" style="stroke:#4E5D6C;stroke-width:1.0416666666666667;"/><path d="M550,760.7096 C550,771.1263 692.1875,771.1263 692.1875,771.1263 C692.1875,771.1263 834.375,771.1263 834.375,760.7096 " fill="none" style="stroke:#4E5D6C;stroke-width:1.0416666666666667;"/><text fill="#4E5D6C" font-family="&quot;Verdana&quot;" font-size="12.5" font-weight="bold" lengthAdjust="spacing" textLength="69.7917" x="657.2917" y="790.0208">key store</text></g><!--MD5=[d49a6ffc90cc181bcf2dc517b98ee2de]
entity SSH2--><g id="elem_SSH2"><ellipse cx="204.1667" cy="373.2096" fill="#808080" rx="8.3333" ry="8.3333" style="stroke:#D13212;stroke-width:1.0416666666666667;"/><text fill="#4E5D6C" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="34.375" x="186.9792" y="407.7291">SSH2</text></g><!--MD5=[f3e45af04af82bc01a18143ea0004290]
entity SSH Server--><g id="elem_SSH Server"><rect fill="#808080" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0416666666666667;" width="123.9583" x="33.8542" y="345.0846"/><rect fill="#808080" height="10.4167" style="stroke:#EC7211;stroke-width:1.0416666666666667;" width="15.625" x="136.9792" y="350.293"/><rect fill="#808080" height="2.0833" style="stroke:#EC7211;stroke-width:1.0416666666666667;" width="4.1667" x="134.8958" y="352.3763"/><rect fill="#808080" height="2.0833" style="stroke:#EC7211;stroke-width:1.0416666666666667;" width="4.1667" x="134.8958" y="356.543"/><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="71.875" x="54.6875" y="382.7291">SSH Server</text></g><!--MD5=[c5c33892bce9263157e580e9d476a61d]
entity cvkpub--><g id="elem_cvkpub"><rect fill="#808080" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0416666666666667;" width="116.6667" x="58.3333" y="618.0013"/><rect fill="#808080" height="10.4167" style="stroke:#EC7211;stroke-width:1.0416666666666667;" width="15.625" x="154.1667" y="623.2096"/><rect fill="#808080" height="2.0833" style="stroke:#EC7211;stroke-width:1.0416666666666667;" width="4.1667" x="152.0833" y="625.293"/><rect fill="#808080" height="2.0833" style="stroke:#EC7211;stroke-width:1.0416666666666667;" width="4.1667" x="152.0833" y="629.4596"/><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="64.5833" x="79.1667" y="655.6458">public key</text></g><!--MD5=[a557437c1e1cd5068c5decf476ad89c1]
entity Websocket--><g id="elem_Websocket"><ellipse cx="307.2917" cy="139.8763" fill="#0000FF" rx="8.3333" ry="8.3333" style="stroke:#D13212;stroke-width:1.0416666666666667;"/><text fill="#4E5D6C" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="71.875" x="271.3542" y="174.3958">Websocket</text></g><!--MD5=[3d0aa6425748b5166ad63f061495f8e8]
entity WebSSH2--><g id="elem_WebSSH2"><rect fill="#0000FF" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0416666666666667;" width="114.5833" x="146.875" y="111.7513"/><rect fill="#0000FF" height="10.4167" style="stroke:#EC7211;stroke-width:1.0416666666666667;" width="15.625" x="240.625" y="116.9596"/><rect fill="#0000FF" height="2.0833" style="stroke:#EC7211;stroke-width:1.0416666666666667;" width="4.1667" x="238.5417" y="119.043"/><rect fill="#0000FF" height="2.0833" style="stroke:#EC7211;stroke-width:1.0416666666666667;" width="4.1667" x="238.5417" y="123.2096"/><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="62.5" x="167.7083" y="149.3958">WebSSH2</text></g><!--MD5=[9f65eaf450943a4c14297c25da91a260]
entity http1--><g id="elem_http1"><ellipse cx="540.625" cy="139.8763" fill="#0000FF" rx="8.3333" ry="8.3333" style="stroke:#D13212;stroke-width:1.0416666666666667;"/><text fill="#4E5D6C" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="33.3333" x="523.9583" y="174.3958">HTML</text></g><!--MD5=[b2ae5b9214bc8a56cc3dbb49819eb234]
entity Landing page--><g id="elem_Landing page"><rect fill="#0000FF" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0416666666666667;" width="140.625" x="353.6458" y="111.7513"/><rect fill="#0000FF" height="10.4167" style="stroke:#EC7211;stroke-width:1.0416666666666667;" width="15.625" x="473.4375" y="116.9596"/><rect fill="#0000FF" height="2.0833" style="stroke:#EC7211;stroke-width:1.0416666666666667;" width="4.1667" x="471.3542" y="119.043"/><rect fill="#0000FF" height="2.0833" style="stroke:#EC7211;stroke-width:1.0416666666666667;" width="4.1667" x="471.3542" y="123.2096"/><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="88.5417" x="374.4792" y="149.3958">Landing page</text></g><!--MD5=[a20af944864ab8011ad321fa6cf5eda6]
entity SSH Client--><g id="elem_SSH Client"><rect fill="#0000FF" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0416666666666667;" width="118.75" x="377.0833" y="345.0846"/><rect fill="#0000FF" height="10.4167" style="stroke:#EC7211;stroke-width:1.0416666666666667;" width="15.625" x="475" y="350.293"/><rect fill="#0000FF" height="2.0833" style="stroke:#EC7211;stroke-width:1.0416666666666667;" width="4.1667" x="472.9167" y="352.3763"/><rect fill="#0000FF" height="2.0833" style="stroke:#EC7211;stroke-width:1.0416666666666667;" width="4.1667" x="472.9167" y="356.543"/><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="66.6667" x="397.9167" y="382.7291">SSH Client</text></g><!--MD5=[281f746dcbfdd5f6b1a18d5ab65bb3b4]
entity Tide Enclave--><g id="elem_Tide Enclave"><rect fill="url(#g1hhb3l451aafn1)" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0416666666666667;" width="133.3333" x="629.1667" y="345.0846"/><rect fill="url(#g1hhb3l451aafn1)" height="10.4167" style="stroke:#EC7211;stroke-width:1.0416666666666667;" width="15.625" x="741.6667" y="350.293"/><rect fill="url(#g1hhb3l451aafn1)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0416666666666667;" width="4.1667" x="739.5833" y="352.3763"/><rect fill="url(#g1hhb3l451aafn1)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0416666666666667;" width="4.1667" x="739.5833" y="356.543"/><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="81.25" x="650" y="382.7291">Tide Enclave</text></g><!--MD5=[21e97b73a141fb924fc1ccac418b209c]
entity http2--><g id="elem_http2"><ellipse cx="912.5" cy="646.1263" fill="#A7280E" rx="8.3333" ry="8.3333" style="stroke:#D13212;stroke-width:1.0416666666666667;"/><text fill="#4E5D6C" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="33.3333" x="895.8333" y="680.6458">HTML</text></g><!--MD5=[c06a3d9730123df9b4c0c7fe1eeba475]
entity 0--><g id="elem_0"><ellipse cx="695.8333" cy="646.1263" fill="#A7280E" rx="8.3333" ry="8.3333" style="stroke:#D13212;stroke-width:1.0416666666666667;"/><text fill="#4E5D6C" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="56.25" x="667.7083" y="680.6458">HTTP API</text></g><!--MD5=[13c7745981a6abb6004f7738a8ca5078]
entity 1--><g id="elem_1"><ellipse cx="454.1667" cy="646.1263" fill="#A7280E" rx="8.3333" ry="8.3333" style="stroke:#D13212;stroke-width:1.0416666666666667;"/><text fill="#4E5D6C" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="56.25" x="426.0417" y="680.6458">HTTP API</text></g><!--MD5=[02047a368f92babcb378e2dcfeb05feb]
entity Enclave host--><g id="elem_Enclave host"><rect fill="url(#g1hhb3l451aafn1)" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0416666666666667;" width="135.4167" x="958.3333" y="618.0013"/><rect fill="url(#g1hhb3l451aafn1)" height="10.4167" style="stroke:#EC7211;stroke-width:1.0416666666666667;" width="15.625" x="1072.9167" y="623.2096"/><rect fill="url(#g1hhb3l451aafn1)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0416666666666667;" width="4.1667" x="1070.8333" y="625.293"/><rect fill="url(#g1hhb3l451aafn1)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0416666666666667;" width="4.1667" x="1070.8333" y="629.4596"/><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="83.3333" x="979.1667" y="655.6458">Enclave host</text></g><!--MD5=[fa0e930bc18484641cf6c0e174491f98]
entity PRISM auth--><g id="elem_PRISM auth"><rect fill="url(#g1hhb3l451aafn1)" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0416666666666667;" width="125" x="741.6667" y="618.0013"/><rect fill="url(#g1hhb3l451aafn1)" height="10.4167" style="stroke:#EC7211;stroke-width:1.0416666666666667;" width="15.625" x="845.8333" y="623.2096"/><rect fill="url(#g1hhb3l451aafn1)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0416666666666667;" width="4.1667" x="843.75" y="625.293"/><rect fill="url(#g1hhb3l451aafn1)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0416666666666667;" width="4.1667" x="843.75" y="629.4596"/><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="72.9167" x="762.5" y="655.6458">PRISM auth</text></g><!--MD5=[8dbfbae0971825e745ddf2e149d4dfaf]
entity Verify and Sign--><g id="elem_Verify and Sign"><rect fill="url(#g1hhb3l451aafn1)" height="56.2174" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0416666666666667;" width="148.9583" x="500.5208" y="618.0013"/><rect fill="url(#g1hhb3l451aafn1)" height="10.4167" style="stroke:#EC7211;stroke-width:1.0416666666666667;" width="15.625" x="628.6458" y="623.2096"/><rect fill="url(#g1hhb3l451aafn1)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0416666666666667;" width="4.1667" x="626.5625" y="625.293"/><rect fill="url(#g1hhb3l451aafn1)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0416666666666667;" width="4.1667" x="626.5625" y="629.4596"/><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="96.875" x="521.3542" y="655.6458">Verify and Sign</text></g><!--MD5=[07b176344b205c2789515a34acbb9cb0]
entity cvk--><g id="elem_cvk"><rect fill="url(#g1hhb3l451aafn1)" height="70.7682" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0416666666666667;" width="122.9167" x="566.6667" y="809.668"/><rect fill="url(#g1hhb3l451aafn1)" height="10.4167" style="stroke:#EC7211;stroke-width:1.0416666666666667;" width="15.625" x="668.75" y="814.8763"/><rect fill="url(#g1hhb3l451aafn1)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0416666666666667;" width="4.1667" x="666.6667" y="816.9596"/><rect fill="url(#g1hhb3l451aafn1)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0416666666666667;" width="4.1667" x="666.6667" y="821.1263"/><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="70.8333" x="587.5" y="847.3124">Private key</text><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="37.5" x="587.5" y="861.8632">shard</text></g><!--MD5=[ea3f5907e14b26d2690382287fd887d6]
entity pss--><g id="elem_pss"><rect fill="url(#g1hhb3l451aafn1)" height="70.7682" rx="4.1667" ry="4.1667" style="stroke:#EC7211;stroke-width:1.0416666666666667;" width="90.625" x="726.5625" y="809.668"/><rect fill="url(#g1hhb3l451aafn1)" height="10.4167" style="stroke:#EC7211;stroke-width:1.0416666666666667;" width="15.625" x="796.3542" y="814.8763"/><rect fill="url(#g1hhb3l451aafn1)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0416666666666667;" width="4.1667" x="794.2708" y="816.9596"/><rect fill="url(#g1hhb3l451aafn1)" height="2.0833" style="stroke:#EC7211;stroke-width:1.0416666666666667;" width="4.1667" x="794.2708" y="821.1263"/><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="38.5417" x="747.3958" y="847.3124">PRISM</text><text fill="#FFFFFF" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="37.5" x="747.3958" y="861.8632">shard</text></g><!--MD5=[8fc3522a43f8c7199df5e09e5bb0188e]
entity user--><g id="elem_user"><ellipse cx="915.625" cy="338.3138" fill="#808080" rx="8.3333" ry="8.3333" style="stroke:#EC7211;stroke-width:1.0416666666666667;"/><path d="M915.625,346.6471 L915.625,374.7721 M902.0833,354.9805 L929.1667,354.9805 M915.625,374.7721 L902.0833,390.3971 M915.625,374.7721 L929.1667,390.3971 " fill="none" style="stroke:#EC7211;stroke-width:1.0416666666666667;"/><text fill="#4E5D6C" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="30.2083" x="900.5208" y="409.2916">User</text></g><!--MD5=[177083ca7625ce3bc2f7f4aca3b44f24]
link SSH Server to SSH2--><g id="link_SSH Server_SSH2"><path d="M158.0417,373.2096 C170.1771,373.2096 182.3021,373.2096 194.4375,373.2096 " fill="none" id="SSH Server-SSH2" style="stroke:#808080;stroke-width:3.125;"/></g><!--MD5=[0ceaac2743612477a60cb878417aac7a]
link SSH Server to cvkpub--><g id="link_SSH Server_cvkpub"><path d="M97.9479,401.7096 C101.8125,452.0221 110.0313,558.7721 114.1667,612.6055 " fill="none" id="SSH Server-to-cvkpub" style="stroke:#000000;stroke-width:3.125;"/><polygon fill="#000000" points="114.5833,617.9596,118.042,608.301,114.1964,612.7657,109.7317,608.9201,114.5833,617.9596" style="stroke:#000000;stroke-width:3.125;"/></g><!--MD5=[298504b0d48ed5a66a388d26936c4816]
link Websocket to WebSSH2--><g id="link_Websocket_WebSSH2"><path d="M297.6875,139.8763 C285.7188,139.8763 273.7396,139.8763 261.7708,139.8763 " fill="none" id="Websocket-WebSSH2" style="stroke:#0000FF;stroke-width:3.125;"/></g><!--MD5=[3289d4923d63544a8b7b9be05159fad2]
link Landing page to http1--><g id="link_Landing page_http1"><path d="M494.5938,139.8763 C506.6979,139.8763 518.8125,139.8763 530.9167,139.8763 " fill="none" id="Landing page-http1" style="stroke:#0000FF;stroke-width:3.125;"/></g><!--MD5=[303bba857e46cc54639241fffef1e9a4]
link WebSSH2 to SSH2--><g id="link_WebSSH2_SSH2"><path d="M204.1667,168.3555 C204.1667,217.8659 204.1667,320.5013 204.1667,358.0326 " fill="none" id="WebSSH2-to-SSH2" style="stroke:#808080;stroke-width:3.125;"/><polygon fill="#808080" points="204.1667,363.4805,208.3333,354.1055,204.1667,358.2721,200,354.1055,204.1667,363.4805" style="stroke:#808080;stroke-width:3.125;"/><text fill="#4E5D6C" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="22.9167" x="210.4167" y="219.1874">ssh</text></g><!--MD5=[91f15a169ca6d3bbec4aaae09fd97850]
reverse link http1 to SSH Client--><g id="link_http1_SSH Client"><path d="M534.5625,154.3867 C517.8958,191.3763 471.1771,295.1055 448.7604,344.8659 " fill="none" id="http1-backto-SSH Client" style="stroke:#808080;stroke-width:3.125;"/><polygon fill="#808080" points="536.7917,149.418,529.1368,156.2484,534.6488,154.1651,536.7321,159.677,536.7917,149.418" style="stroke:#808080;stroke-width:3.125;"/><text fill="#4E5D6C" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="103.125" x="518.75" y="219.1874">Download client</text></g><!--MD5=[39812a450e8c867f955055890e6c7ac5]
link SSH Client to Websocket--><g id="link_SSH Client_Websocket"><path d="M420.8958,344.9388 C400.9167,309.8971 365.2708,247.0846 335.4167,193.0013 C328.1667,179.8555 320.0313,164.7513 314.3854,154.2096 " fill="none" id="SSH Client-to-Websocket" style="stroke:#0000FF;stroke-width:3.125;"/><polygon fill="#0000FF" points="311.8229,149.4284,312.5772,159.6598,314.2824,154.0194,319.9228,155.7247,311.8229,149.4284" style="stroke:#0000FF;stroke-width:3.125;"/><text fill="#4E5D6C" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="80.2083" x="357.2917" y="219.1874">SSH session</text></g><!--MD5=[2e919d82029877e58fc15e746c7757cb]
link SSH Client to Tide Enclave--><g id="link_SSH Client_Tide Enclave"><path d="M501.6146,373.2096 C538.6458,373.2096 585.0833,373.2096 623.2708,373.2096 " fill="none" id="SSH Client-Tide Enclave" style="stroke:#EC7211;stroke-width:3.125;"/><polygon fill="#EC7211" points="495.9688,373.2096,505.3438,377.3763,501.1771,373.2096,505.3438,369.043,495.9688,373.2096" style="stroke:#EC7211;stroke-width:3.125;"/><polygon fill="#EC7211" points="628.8438,373.2096,619.4688,369.043,623.6354,373.2096,619.4688,377.3763,628.8438,373.2096" style="stroke:#EC7211;stroke-width:3.125;"/><text fill="#4E5D6C" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="27.0833" x="548.9583" y="347.3124">Tide</text><text fill="#4E5D6C" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="84.375" x="520.3125" y="361.8632">Heimdall SDK</text></g><!--MD5=[2a0ac04cb6b3b67e9452c7650b8b23f3]
link Tide Enclave to user--><g id="link_Tide Enclave_user"><path d="M768.0521,373.2096 C809.9583,373.2096 860.1667,373.2096 889.9063,373.2096 " fill="none" id="Tide Enclave-user" style="stroke:#808080;stroke-width:3.125;"/><polygon fill="#808080" points="762.6771,373.2096,772.0521,377.3763,767.8854,373.2096,772.0521,369.043,762.6771,373.2096" style="stroke:#808080;stroke-width:3.125;"/><polygon fill="#808080" points="895.2083,373.2096,885.8333,369.043,890,373.2096,885.8333,377.3763,895.2083,373.2096" style="stroke:#808080;stroke-width:3.125;"/><text fill="#4E5D6C" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="84.375" x="786.7188" y="332.7291">Press button</text><text fill="#4E5D6C" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="38.5417" x="809.6354" y="347.2799">Log in</text><text fill="#4E5D6C" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="80.2083" x="788.8021" y="361.8306">SSH session</text></g><!--MD5=[0c3c1e0252c3aaae167646de4d0bb413]
link http2 to Enclave host--><g id="link_http2_Enclave host"><path d="M922.2604,646.1263 C934.1458,646.1263 946.0417,646.1263 957.9375,646.1263 " fill="none" id="http2-Enclave host" style="stroke:#EC7211;stroke-width:3.125;"/></g><!--MD5=[c68b7806dfda6028f1b2ab9ec620ad1f]
link 0 to PRISM auth--><g id="link_0_PRISM auth"><path d="M705.5625,646.1263 C717.5104,646.1263 729.4479,646.1263 741.3854,646.1263 " fill="none" id="0-PRISM auth" style="stroke:#EC7211;stroke-width:3.125;"/></g><!--MD5=[d70689639d423928459ab386868250ee]
link 1 to Verify and Sign--><g id="link_1_Verify and Sign"><path d="M463.6042,646.1263 C475.7917,646.1263 487.9792,646.1263 500.1563,646.1263 " fill="none" id="1-Verify and Sign" style="stroke:#EC7211;stroke-width:3.125;"/></g><!--MD5=[57085691fd5070ee3f71c3340ba385f4]
link Verify and Sign to cvk--><g id="link_Verify and Sign_cvk"><path d="M582.3854,674.543 C591.5,708.3138 607.0625,765.9805 617.4688,804.5534 " fill="none" id="Verify and Sign-to-cvk" style="stroke:#EC7211;stroke-width:3.125;"/><polygon fill="#EC7211" points="618.8333,809.6263,620.3915,799.4861,617.4654,804.6008,612.3507,801.6747,618.8333,809.6263" style="stroke:#EC7211;stroke-width:3.125;"/></g><!--MD5=[d0a35ab1c988c73a495bf9d02db125e7]
link PRISM auth to pss--><g id="link_PRISM auth_pss"><path d="M799.6771,674.543 C794.1563,708.1784 784.7604,765.5117 778.4271,804.0742 " fill="none" id="PRISM auth-to-pss" style="stroke:#EC7211;stroke-width:3.125;"/><polygon fill="#EC7211" points="777.5208,809.6263,783.156,801.0533,778.3674,804.4872,774.9335,799.6987,777.5208,809.6263" style="stroke:#EC7211;stroke-width:3.125;"/></g><!--MD5=[59851d720a1ffcd9955163bf9e26551c]
link Tide Enclave to http2--><g id="link_Tide Enclave_http2"><path d="M755.6979,401.3867 C798.5625,423.9596 854.0417,460.2096 885.4167,508.6263 C910.6979,547.6263 913.2708,605.1055 913,631.2409 " fill="none" id="Tide Enclave-to-http2" style="stroke:#EC7211;stroke-width:3.125;"/><polygon fill="#EC7211" points="912.8958,636.6159,917.2491,627.3261,913,631.4086,908.9175,627.1594,912.8958,636.6159" style="stroke:#EC7211;stroke-width:3.125;"/><text fill="#4E5D6C" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="63.5417" x="884.375" y="477.5208">Download</text><text fill="#4E5D6C" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="50" x="891.1458" y="492.0715">enclave</text></g><!--MD5=[058d0086c11eccfb29a671ca6a888066]
link Tide Enclave to 0--><g id="link_Tide Enclave_0"><path d="M695.8333,401.7096 C695.8333,458.6159 695.8333,587.7201 695.8333,630.793 " fill="none" id="Tide Enclave-to-0" style="stroke:#EC7211;stroke-width:3.125;"/><polygon fill="#EC7211" points="695.8333,636.5013,700,627.1263,695.8333,631.293,691.6667,627.1263,695.8333,636.5013" style="stroke:#EC7211;stroke-width:3.125;"/><text fill="#4E5D6C" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="62.5" x="718.75" y="477.5208">Password</text><text fill="#4E5D6C" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="95.8333" x="702.0833" y="492.0715">authentication</text></g><!--MD5=[f09c85b461223cf7fbab6917eb34b258]
link Tide Enclave to 1--><g id="link_Tide Enclave_1"><path d="M629.1146,399.3659 C580.8646,421.0013 518.1042,456.9701 482.2917,508.6263 C455.7708,546.8867 453.2292,604.7305 453.6042,631.1055 " fill="none" id="Tide Enclave-to-1" style="stroke:#EC7211;stroke-width:3.125;"/><polygon fill="#EC7211" points="453.7292,636.5221,457.6805,627.0544,453.6102,631.3152,449.3494,627.2448,453.7292,636.5221" style="stroke:#EC7211;stroke-width:3.125;"/><text fill="#4E5D6C" font-family="&quot;Verdana&quot;" font-size="12.5" lengthAdjust="spacing" textLength="28.125" x="529.1667" y="484.8124">Sign</text></g><rect fill="#FFFFFF" height="92.5944" id="_legend" rx="4.1667" ry="4.1667" style="stroke:#CCCCCC;stroke-width:1.0416666666666667;" width="214.5833" x="472.3026" y="998.107"/><text fill="#ABB6C2" font-family="&quot;Verdana&quot;" font-size="14.5833" lengthAdjust="spacing" textLength="193.75" x="482.7193" y="1022.0602">Grey : Untouched modules</text><line style="stroke:#CCCCCC;stroke-width:1.0416666666666667;" x1="472.3026" x2="686.886" y1="1030.7079" y2="1030.7079"/><line style="stroke:#CCCCCC;stroke-width:1.0416666666666667;" x1="472.3026" x2="686.886" y1="1032.7912" y2="1032.7912"/><text fill="#ABB6C2" font-family="&quot;Verdana&quot;" font-size="14.5833" lengthAdjust="spacing" textLength="163.5417" x="482.7193" y="1049.4528">Blue : Tidified modules</text><line style="stroke:#CCCCCC;stroke-width:1.0416666666666667;" x1="472.3026" x2="686.886" y1="1058.1004" y2="1058.1004"/><line style="stroke:#CCCCCC;stroke-width:1.0416666666666667;" x1="472.3026" x2="686.886" y1="1060.1838" y2="1060.1838"/><text fill="#ABB6C2" font-family="&quot;Verdana&quot;" font-size="14.5833" lengthAdjust="spacing" textLength="164.5833" x="482.7193" y="1076.8454">Orange : Tide modules</text><!--MD5=[276c2c328b00e1c3a3370fb20775a74c]
@startuml KeyleSSH Architecture
title KeyleSSH Architecture
!include https://raw.githubusercontent.com/bschwarz/puml-themes/master/themes/aws-orange-light/puml-theme-aws-orange-light.puml

actor "User" as user #grey

node "Host" {
    interface SSH2 #grey
    component [SSH Server] #grey
    [SSH Server] - SSH2 #grey 
    folder "authorized_keys" #grey {
        [public key] as cvkpub #grey
    }
}
[SSH Server] - -> [cvkpub] #black

node "SSH Proxy" {
    interface Websocket #blue
    component [WebSSH2] #Blue
    Websocket - [WebSSH2] #blue
    interface "HTML" as http1 #blue
    component [Landing page] #blue
    [Landing page] - http1 #blue
}
[WebSSH2] - -> [SSH2] #grey : ssh

frame "Web browser" as browser {
    node "Web client" as webclient {
        component [SSH Client] #blue
        [Tide Enclave]
    }
    [http1] <- - [SSH Client] #grey : Download client 
    [SSH Client] -> [Websocket] #blue : SSH session
    [SSH Client] <-> [Tide Enclave] : Tide\nHeimdall SDK
}

[Tide Enclave] <-right-> [user] #grey : Press button\nLog in\nSSH session

cloud "Tide Network" #orange {
    node "ORK node" {
        interface "HTML" as http2
        interface "HTTP API" as 0
        interface "HTTP API" as 1
        http2 -[Enclave host]
        0 -[PRISM auth]
        1 - [Verify and Sign]
        database "key store" {
            [Private key\nshard] as cvk
            [PRISM\nshard] as pss
        }   
        [Verify and Sign] -down-> [cvk]
        [PRISM auth] -down-> [pss]
    }
}

[Tide Enclave] -down-> [http2] : Download\nenclave
[Tide Enclave] -> [0] : Password\nauthentication
[Tide Enclave] -> [1] : Sign

legend
    Grey : Untouched modules
    ====
    Blue : Tidified modules
    ====
    Orange : Tide modules
endlegend
@enduml

@startuml KeyleSSH Architecture
title KeyleSSH Architecture



skinparam backgroundColor transparent










skinparam defaultFontName       "Verdana"
skinparam defaultFontSize       12
skinparam dpi                   100
skinparam shadowing             false
skinparam roundcorner           8
skinparam ParticipantPadding    40
skinparam BoxPadding            40
skinparam Padding               5
skinparam ArrowColor            #4E5D6C
skinparam stereotype {
    CBackgroundColor #ffffff
    CBorderColor #cccccc
    ABackgroundColor #4a9a35
    ABorderColor #176702
    IBackgroundColor #da5b41
    IBorderColor #a7280e
    EBackgroundColor #f08e41
    EBorderColor #bd5b0e
    NBackgroundColor #338fc9
    NBorderColor #005c96
}
skinparam title {
	FontColor	                 #4E5D6C
	BorderColor	                 #FFFFFF
	FontSize	    	         20
	BorderRoundCorner            8
	BorderThickness 	         1
	BackgroundColor              #FFFFFF-#cccccc
}

skinparam legend {
	BackgroundColor #FFFFFF
	BorderColor #cccccc
	FontColor #abb6c2
}

skinparam swimlane {
	BorderColor #0073bb
	BorderThickness 2
	TitleBackgroundColor  #FFFFFF-#cccccc
	TitleFontColor #EC7211
}


skinparam activity {
		FontColor #FFF
	BorderColor #EC7211
	BackgroundColor #f08e41-#EC7211
	BarColor #1D8102
	StartColor #0073bb
	EndColor #0073bb
	DiamondBackgroundColor #ffffff
  	DiamondBorderColor #cccccc
  	DiamondFontColor #4E5D6C
}

skinparam participant {
		FontColor #FFF
	BorderColor #EC7211
	BackgroundColor #f08e41-#EC7211
	ParticipantBorderThickness 2
}

skinparam actor {
		FontColor #FFF
	BorderColor #EC7211
	BackgroundColor #f08e41-#EC7211
	FontColor #4E5D6C
}

skinparam arrow {
	Thickness 3
	Color #EC7211
	FontColor #4E5D6C
}

skinparam sequence {
	ArrowThickness 3
	BorderColor #EC7211
	TitleFontColor #EC7211
	BackgroundColor transparent
	StartColor #EC7211
	EndColor #EC7211
	BoxBackgroundColor transparent
	BoxBorderColor #4E5D6C
	BoxFontColor #4E5D6C
	DelayFontColor #4E5D6C
	LifeLineBorderColor #abb6c2
	LifeLineBorderThickness 2
	LifeLineBackgroundColor #bcc5ce
	GroupBorderColor #4E5D6C
	GroupFontColor #4E5D6C
	GroupHeaderFontColor #0073bb
	GroupBackgroundColor #FFFFFF
	GroupBodyBackgroundColor transparent
	GroupHeaderBackgroundColor transparent
	DividerBackgroundColor #4E5D6C
    DividerBorderColor #4E5D6C
    DividerBorderThickness 2
    DividerFontColor #abb6c2
	ReferenceBackgroundColor transparent
	ReferenceBorderColor #4E5D6C
	ReferenceFontColor #4E5D6C
	ReferenceHeaderFontColor #0073bb
	ReferenceHeaderBackgroundColor #FFFFFF
	StereotypeFontColor #FFF
}

skinparam partition {
	BorderColor #EC7211
	FontColor #EC7211
	BackgroundColor transparent
}

skinparam collections {
		FontColor #FFF
	BorderColor #EC7211
	BackgroundColor #f08e41-#EC7211
}

skinparam control {
		FontColor #FFF
	BorderColor #EC7211
	BackgroundColor #f08e41-#EC7211
	FontColor #4E5D6C
}

skinparam entity {
		FontColor #FFF
	BorderColor #EC7211
	BackgroundColor #f08e41-#EC7211
	FontColor #4E5D6C
}

skinparam boundary {
		FontColor #FFF
	BorderColor #EC7211
	BackgroundColor #f08e41-#EC7211
	FontColor #4E5D6C
}

skinparam agent {
	BackgroundColor #EC7211
	BorderColor #f08e41
	FontColor #4E5D6C
}

skinparam note {
	BorderThickness 1
	BackgroundColor #0073bb
	BorderColor #005c96
	FontColor #FFF
}

skinparam artifact {
	BackgroundColor #4E5D6C
	BorderColor #717d89
	FontColor #abb6c2
}

skinparam component {
		FontColor #FFF
	BorderColor #EC7211
	BackgroundColor #f08e41-#EC7211
}

skinparam interface {
	BackgroundColor  #a7280e
	BorderColor  #d13212
	FontColor #4E5D6C
}

skinparam storage {
	BackgroundColor #EC7211
  	BorderColor #bd5b0e
	FontColor #FFF
}

skinparam node {
	BackgroundColor  transparent
	BorderColor #abb6c2
	FontColor #abb6c2
}

skinparam cloud {
	BackgroundColor transparent
	BorderColor #4E5D6C
	FontColor #abb6c2
}

skinparam database {
		FontColor #FFF
	BorderColor #EC7211
	BackgroundColor #f08e41-#EC7211
	FontColor #4E5D6C
}

skinparam class {
		FontColor #FFF
	BorderColor #EC7211
	BackgroundColor #f08e41-#EC7211
	HeaderBackgroundColor #f08e41
	StereotypeFontColor #4E5D6C
	BorderThickness 1
	AttributeFontColor #FFF
	AttributeFontSize 11
}

skinparam object {
		FontColor #FFF
	BorderColor #EC7211
	BackgroundColor #f08e41-#EC7211
	StereotypeFontColor #4E5D6C
	BorderThickness 1
	AttributeFontColor #FFF
	AttributeFontSize 11
}

skinparam usecase {
		FontColor #FFF
	BorderColor #EC7211
	BackgroundColor #f08e41-#EC7211
	BorderThickness 2
	StereotypeFontColor #EC7211
}

skinparam rectangle {
	BackgroundColor transparent
	FontColor #4E5D6C
	BorderColor #4E5D6C
	BorderThickness 2
	StereotypeFontColor #abb6c2
}

skinparam package {
	BackgroundColor #FFFFFF
  	BorderColor #4E5D6C
	FontColor #4E5D6C
	BorderThickness 2
}

skinparam folder {
	BackgroundColor #ffffff
  	BorderColor #EC7211
	FontColor #EC7211
	BorderThickness 2
}

skinparam frame {
	BackgroundColor #ffffff
  	BorderColor #0073bb
	FontColor #0073bb
	BorderThickness 2
}

skinparam state {
		FontColor #FFF
	BorderColor #EC7211
	BackgroundColor #f08e41-#EC7211
	StartColor #0073bb
	EndColor #0073bb
	AttributeFontColor #4E5D6C
	AttributeFontSize 11
}

skinparam queue {
		FontColor #FFF
	BorderColor #EC7211
	BackgroundColor #f08e41-#EC7211
}

skinparam card {
	BackgroundColor #0073bb
	BorderColor #005c96
	FontColor #FFF
}

skinparam file {
	BackgroundColor #cccccc
	BorderColor #abb6c2
	FontColor #4E5D6C
}


skinparam stack {
		FontColor #FFF
	BorderColor #EC7211
	BackgroundColor #f08e41-#EC7211
}


actor "User" as user #grey

node "Host" {
    interface SSH2 #grey
    component [SSH Server] #grey
    [SSH Server] - SSH2 #grey 
    folder "authorized_keys" #grey {
        [public key] as cvkpub #grey
    }
}
[SSH Server] - -> [cvkpub] #black

node "SSH Proxy" {
    interface Websocket #blue
    component [WebSSH2] #Blue
    Websocket - [WebSSH2] #blue
    interface "HTML" as http1 #blue
    component [Landing page] #blue
    [Landing page] - http1 #blue
}
[WebSSH2] - -> [SSH2] #grey : ssh

frame "Web browser" as browser {
    node "Web client" as webclient {
        component [SSH Client] #blue
        [Tide Enclave]
    }
    [http1] <- - [SSH Client] #grey : Download client 
    [SSH Client] -> [Websocket] #blue : SSH session
    [SSH Client] <-> [Tide Enclave] : Tide\nHeimdall SDK
}

[Tide Enclave] <-right-> [user] #grey : Press button\nLog in\nSSH session

cloud "Tide Network" #orange {
    node "ORK node" {
        interface "HTML" as http2
        interface "HTTP API" as 0
        interface "HTTP API" as 1
        http2 -[Enclave host]
        0 -[PRISM auth]
        1 - [Verify and Sign]
        database "key store" {
            [Private key\nshard] as cvk
            [PRISM\nshard] as pss
        }   
        [Verify and Sign] -down-> [cvk]
        [PRISM auth] -down-> [pss]
    }
}

[Tide Enclave] -down-> [http2] : Download\nenclave
[Tide Enclave] -> [0] : Password\nauthentication
[Tide Enclave] -> [1] : Sign

legend
    Grey : Untouched modules
    ====
    Blue : Tidified modules
    ====
    Orange : Tide modules
endlegend
@enduml

PlantUML version 1.2022.13(Sat Nov 19 13:22:17 UTC 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: null
--></g></svg>